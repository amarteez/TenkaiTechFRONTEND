{"ast":null,"code":"// src/components/ProductList.js\nimport axios from'axios';import React,{useEffect,useState}from'react';import Product from'./Product';import'./ProductList.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ProductList=()=>{const[productsByCategory,setProductsByCategory]=useState({});const[loading,setLoading]=useState(true);const[error,setError]=useState(null);useEffect(()=>{fetchProducts();},[]);const fetchProducts=async()=>{try{const response=await axios.get('https://tenkaitechbackend.onrender.com/api/products/');setProductsByCategory(response.data);setLoading(false);}catch(error){console.error('Error fetching products:',error);setError('Failed to load products.');setLoading(false);}};const categories=Object.entries(productsByCategory);if(loading){return/*#__PURE__*/_jsx(\"p\",{children:\"Loading products...\"});}if(error){return/*#__PURE__*/_jsx(\"p\",{children:error});}return/*#__PURE__*/_jsx(\"div\",{className:\"product-list-container\",children:categories.length===0?/*#__PURE__*/_jsx(\"p\",{children:\"No products available\"}):categories.map(_ref=>{let[categoryId,{category_name,products}]=_ref;return/*#__PURE__*/_jsxs(\"div\",{className:\"category-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:category_name}),/*#__PURE__*/_jsx(\"div\",{className:\"product-list\",children:products.length>0?products.map(product=>/*#__PURE__*/_jsx(Product,{product:product},product.id)):/*#__PURE__*/_jsx(\"p\",{children:\"No products in this category\"})})]},categoryId);})});};export default ProductList;","map":{"version":3,"names":["axios","React","useEffect","useState","Product","jsx","_jsx","jsxs","_jsxs","ProductList","productsByCategory","setProductsByCategory","loading","setLoading","error","setError","fetchProducts","response","get","data","console","categories","Object","entries","children","className","length","map","_ref","categoryId","category_name","products","product","id"],"sources":["C:/Users/admin/Desktop/TenkaiFront/src/components/ProductList.js"],"sourcesContent":["// src/components/ProductList.js\nimport axios from 'axios';\nimport React, { useEffect, useState } from 'react';\nimport Product from './Product';\nimport './ProductList.css';\n\nconst ProductList = () => {\n    const [productsByCategory, setProductsByCategory] = useState({});\n    const [loading, setLoading] = useState(true);\n    const [error, setError] = useState(null);\n\n    useEffect(() => {\n        fetchProducts();\n    }, []);\n\n    const fetchProducts = async () => {\n        try {\n            const response = await axios.get('https://tenkaitechbackend.onrender.com/api/products/');\n            setProductsByCategory(response.data);\n            setLoading(false);\n        } catch (error) {\n            console.error('Error fetching products:', error);\n            setError('Failed to load products.');\n            setLoading(false);\n        }\n    };\n\n    const categories = Object.entries(productsByCategory);\n\n    if (loading) {\n        return <p>Loading products...</p>;\n    }\n\n    if (error) {\n        return <p>{error}</p>;\n    }\n\n    return (\n        <div className=\"product-list-container\">\n            {categories.length === 0 ? (\n                <p>No products available</p>\n            ) : (\n                categories.map(([categoryId, { category_name, products }]) => (\n                    <div key={categoryId} className=\"category-container\">\n                        <h2>{category_name}</h2>\n                        <div className=\"product-list\">\n                            {products.length > 0 ? (\n                                products.map((product) => (\n                                    <Product key={product.id} product={product} />\n                                ))\n                            ) : (\n                                <p>No products in this category</p>\n                            )}\n                        </div>\n                    </div>\n                ))\n            )}\n        </div>\n    );\n};\n\nexport default ProductList;\n"],"mappings":"AAAA;AACA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAO,CAAAC,OAAO,KAAM,WAAW,CAC/B,MAAO,mBAAmB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE3B,KAAM,CAAAC,WAAW,CAAGA,CAAA,GAAM,CACtB,KAAM,CAACC,kBAAkB,CAAEC,qBAAqB,CAAC,CAAGR,QAAQ,CAAC,CAAC,CAAC,CAAC,CAChE,KAAM,CAACS,OAAO,CAAEC,UAAU,CAAC,CAAGV,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAACW,KAAK,CAAEC,QAAQ,CAAC,CAAGZ,QAAQ,CAAC,IAAI,CAAC,CAExCD,SAAS,CAAC,IAAM,CACZc,aAAa,CAAC,CAAC,CACnB,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAA,aAAa,CAAG,KAAAA,CAAA,GAAY,CAC9B,GAAI,CACA,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAjB,KAAK,CAACkB,GAAG,CAAC,sDAAsD,CAAC,CACxFP,qBAAqB,CAACM,QAAQ,CAACE,IAAI,CAAC,CACpCN,UAAU,CAAC,KAAK,CAAC,CACrB,CAAE,MAAOC,KAAK,CAAE,CACZM,OAAO,CAACN,KAAK,CAAC,0BAA0B,CAAEA,KAAK,CAAC,CAChDC,QAAQ,CAAC,0BAA0B,CAAC,CACpCF,UAAU,CAAC,KAAK,CAAC,CACrB,CACJ,CAAC,CAED,KAAM,CAAAQ,UAAU,CAAGC,MAAM,CAACC,OAAO,CAACb,kBAAkB,CAAC,CAErD,GAAIE,OAAO,CAAE,CACT,mBAAON,IAAA,MAAAkB,QAAA,CAAG,qBAAmB,CAAG,CAAC,CACrC,CAEA,GAAIV,KAAK,CAAE,CACP,mBAAOR,IAAA,MAAAkB,QAAA,CAAIV,KAAK,CAAI,CAAC,CACzB,CAEA,mBACIR,IAAA,QAAKmB,SAAS,CAAC,wBAAwB,CAAAD,QAAA,CAClCH,UAAU,CAACK,MAAM,GAAK,CAAC,cACpBpB,IAAA,MAAAkB,QAAA,CAAG,uBAAqB,CAAG,CAAC,CAE5BH,UAAU,CAACM,GAAG,CAACC,IAAA,MAAC,CAACC,UAAU,CAAE,CAAEC,aAAa,CAAEC,QAAS,CAAC,CAAC,CAAAH,IAAA,oBACrDpB,KAAA,QAAsBiB,SAAS,CAAC,oBAAoB,CAAAD,QAAA,eAChDlB,IAAA,OAAAkB,QAAA,CAAKM,aAAa,CAAK,CAAC,cACxBxB,IAAA,QAAKmB,SAAS,CAAC,cAAc,CAAAD,QAAA,CACxBO,QAAQ,CAACL,MAAM,CAAG,CAAC,CAChBK,QAAQ,CAACJ,GAAG,CAAEK,OAAO,eACjB1B,IAAA,CAACF,OAAO,EAAkB4B,OAAO,CAAEA,OAAQ,EAA7BA,OAAO,CAACC,EAAuB,CAChD,CAAC,cAEF3B,IAAA,MAAAkB,QAAA,CAAG,8BAA4B,CAAG,CACrC,CACA,CAAC,GAVAK,UAWL,CAAC,EACT,CACJ,CACA,CAAC,CAEd,CAAC,CAED,cAAe,CAAApB,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}